<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Baraka Community & Family Centre</title>
  <meta name="description" content="Baraka Community & Family Centre — a SCIO in West Glasgow supporting young people, women, families, and refugees to thrive." />

  <!-- Shared styles -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/site.css">

  <!-- Page-specific (hero + stats + gallery layout only; header comes from site.css) -->
  <style>
    :root{
      --bg:#EAF7F1;
    }
    html,body{background:var(--bg)}
    .hero{display:grid;grid-template-columns:1.1fr 0.9fr;gap:28px;align-items:center;padding:32px 0}
    .eyebrow{display:inline-block;padding:8px 12px;border-radius:999px;background:#e0f2fe;color:#075985;font-weight:700;font-size:clamp(14px,1.8vw,18px);letter-spacing:.4px;text-transform:uppercase}
    .lead{color:#475569;font-size:18px}
    .hero-card{background:var(--card);border:1px solid var(--card-border);border-radius:18px;padding:20px;box-shadow:0 10px 30px rgba(15,23,42,.06)}
    .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:18px}
    .stat{background:var(--card);border:1px solid var(--card-border);border-radius:14px;padding:14px;text-align:center}
    .stat h3{margin:0;font-size:24px}
    .donate-row{display:flex;gap:12px;flex-wrap:wrap}
    .prog-img{width:100%;height:160px;object-fit:cover;border-radius:12px;margin-bottom:8px}
    @media (max-width:900px){
      .hero{grid-template-columns:1fr}
    }
  </style>
</head>
<body>

  <!-- HEADER (shared skeleton; menu populated by assets/site.js) -->
  <header class="site-header">
    <div class="container nav">
      <a class="logo" href="index.html">
        <img id="logo" src="assets/baraka-logo.png" alt="Baraka logo">
        <span id="siteName">Baraka Community & Family Centre</span>
      </a>
      <button class="menu-toggle" aria-expanded="false" aria-controls="site-menu">Menu</button>
      <nav id="site-menu" class="menu" aria-label="Main menu"></nav>
    </div>
  </header>

  <main class="container">
    <!-- HERO -->
    <section id="home" class="hero" aria-label="Intro">
      <div id="heroLeft"></div>
      <div id="heroRight" class="hero-card"></div>
    </section>

    <!-- ABOUT -->
    <section id="about" aria-label="About Baraka"></section>

    <!-- PROGRAMMES -->
    <section id="programmes" aria-label="What we run"></section>

    <!-- GET INVOLVED -->
    <section id="get-involved" aria-label="Get involved"></section>

    <!-- NEWS -->
    <section id="news" aria-label="Latest news"></section>

    <!-- DONATE -->
    <section id="donate" aria-label="Donate"></section>

    <!-- GALLERY (slideshow) -->
    <section id="gallery" aria-label="Photos"></section>

    <!-- CONTACT (homepage block) -->
    <section id="contact" aria-label="Contact"></section>
  </main>

  <!-- FOOTER (shared skeleton; details populated by assets/site.js) -->
  <footer class="footer">
    <div class="container" style="display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;">
      <div>© <span id="year"></span> <span id="footerName">Baraka Community & Family Centre</span> · All rights reserved.<br><span class="notice">Registered SCIO <span id="scio"></span></span></div>
      <div class="oscr"><img id="oscrBadge" src="assets/oscr-badge.jpg" alt="OSCR badge"/></div>
    </div>
  </footer>

  <!-- Default content fallback (used if data/content.json is missing) -->
  <script id="default-content" type="application/json">
  {
    "site": {
      "name": "Baraka Community & Family Centre",
      "logo": "assets/baraka-logo.png",
      "brand": { "primary": "#6B3F18", "accent": "#22C55E", "bg": "#EAF7F1" }
    },
    "hero": {
      "eyebrow": "Scottish Charitable Incorporated Organisation (SCIO)",
      "title": "Safe spaces, practical support, and community for families in West Glasgow.",
      "lead": "Created by people with lived experience of seeking asylum, Baraka helps young people, women, families, and refugees thrive socially, emotionally, and economically.",
      "image": "assets/baraka-logo.png",
      "image_alt": "Community photo",
      "actions": [
        {"label":"Donate","href":"#donate"},
        {"label":"Volunteer","href":"get-involved.html","style":"secondary"}
      ],
      "stats": [
        {"value":"4+","label":"Active programmes"},
        {"value":"2024–25","label":"Lottery & Corra funded"},
        {"value":"Weekly","label":"Food distribution"}
      ],
      "right_kicker":"This month",
      "right_title":"What’s on at Baraka",
      "this_month":[
        "Family Connection Hub — Saturdays, community activities for parents & kids.",
        "Digital Hub — weekly sessions for parents and youths.",
        "Wellness Hub — peer support & wellbeing cafés.",
        "Food Distribution — weekly with FareShare."
      ],
      "right_note":"Want to join? "
    },
    "about": {
      "title": "Our story & mission",
      "story": "Baraka Community & Family Centre is a SCIO based in West Glasgow, created by individuals from Black and Ethnic Minority (BAMER) backgrounds who came to the UK as asylum seekers.",
      "values": "We provide culturally sensitive, community-led services built on empathy, dignity, solidarity, and empowerment.",
      "bullets": [
        "Mission: Support young people, women, families, and refugees to thrive through safe spaces, inclusive services, and access to opportunities.",
        "Funding: Supported by The National Lottery Community Fund and Corra Foundation; with monthly support from Scottish Sadaqah (distributed per Zakat principles)."
      ],
      "values_title": "Empathy • Dignity • Solidarity • Empowerment",
      "values_para": "Our programmes are co-designed with participants. Lived experience informs everything from outreach to facilitation.",
      "cta_title": "Need support?",
      "cta_note": "We’ll listen and connect you to the right activity or service.",
      "cta_label": "Get in touch",
      "cta_href": "contact.html"
    },
    "programmes_title":"What we run",
    "programmes": [
      {"title":"Family Connection Hub","description":"Monthly family activities to build confidence, connection, and joy for parents and children.","image":"assets/2.jpg","image_alt":"Family Connection Hub","link":"family-connection-hub.html","bullets":["Group activities and creative play","Peer support and signposting","Open to families across West Glasgow"]},
      {"title":"Digital Hub","description":"Weekly digital skills sessions for parents and youths to boost confidence and employability.","image":"assets/baraka-logo.png","image_alt":"Digital skills"},
      {"title":"Wellness Hub","description":"Peer-led wellbeing cafés and support circles focused on mental health, connection, and resilience.","image":"assets/baraka-logo.png","image_alt":"Wellbeing"},
      {"title":"Food Distribution Service","description":"Weekly food support in partnership with FareShare, prioritising families and refugees in need.","image":"assets/baraka-logo.png","image_alt":"Food distribution"}
    ],
    "get_involved": {
      "title":"Volunteer or partner with us",
      "volunteer": {"intro":"We welcome friendly volunteers for activities, mentoring, logistics, and translation.","roles":["Food distribution","Family activities","Digital skills","Wellbeing support","Other"],"email":"hello@baraka-centre.org"},
      "partner": {"intro":"We work with schools, faith groups, and local services. Refer a family or propose a joint activity.","email":"hello@baraka-centre.org","note":"We are based in West Glasgow. Meetings by appointment."}
    },
    "news_title": "Latest news",
    "news": [
      {"title":"New: Weekly Food Collection","body":"We’ve partnered with FareShare to distribute surplus food to local families. Volunteers welcome!","date":"1 Aug 2025"},
      {"title":"EmpowerHer Workshops","body":"Sewing and crochet sessions are open for registration. Child-friendly space available.","date":"20 Jul 2025"},
      {"title":"Grants & Support","body":"Thanks to The National Lottery Community Fund, Corra Foundation, and Scottish Sadaqah.","date":"10 Jun 2025"}
    ],
    "donate_title":"Support our work",
    "donate": {"intro":"Your donation helps us run weekly food support, skills workshops, and safe community spaces.","paypal":"","stripe":"","justgiving":"","note":"Baraka Community & Family Centre is a registered Scottish charity (SCIO). Gift Aid where eligible."},
    "gallery": { "title":"Photos", "subtitle":"A glimpse of life at Baraka", "images": [] },
    "contact_title":"Get in touch",
    "contact": {"email":"hello@baraka-centre.org","visit_note":"West Glasgow (meetings by appointment).","socials":{"facebook":"#","instagram":"#","whatsapp":"#"},"map_embed":""},
    "legal": {"scio":"SC052268","oscr_badge":"assets/oscr-badge.jpg"}
  }
  </script>

  <!-- Shared logic (builds header/footer + brand + helpers) -->
  <script src="assets/site.js"></script>

  <!-- Homepage render (uses shared helpers; no duplicate header code) -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const F = JSON.parse(document.getElementById('default-content').textContent || '{}');
      const d = (window.__SITE__ && Object.keys(window.__SITE__).length) ? window.__SITE__ : F;
      const E = SITE.esc;

      /* HERO LEFT */
      const heroL = document.getElementById('heroLeft');
      const eyebrow = d.hero?.eyebrow ? `<span class="eyebrow">${E(d.hero.eyebrow)}</span>` : '';
      const actions = (d.hero?.actions||[]).map(a=>`<a class="btn ${a.style==='secondary'?'secondary':''}" href="${E(a.href)}">${E(a.label)}</a>`).join(' ');
      const stats = (d.hero?.stats||[]).map(s=>`<div class="stat"><h3>${E(s.value)}</h3><div class="notice">${E(s.label)}</div></div>`).join('');
      heroL.innerHTML = `
        ${eyebrow}
        <h1>${E(d.hero?.title||'')}</h1>
        <p class="lead">${E(d.hero?.lead||'')}</p>
        <div style="display:flex;gap:12px;margin-top:18px;flex-wrap:wrap">${actions}<a href="programmes.html" style="align-self:center;font-weight:700">See our programmes →</a></div>
        <div class="stats">${stats}</div>
      `;

      /* HERO RIGHT */
      const heroR = document.getElementById('heroRight');
      const heroImg = d.hero?.image ? `<img src="${E(d.hero.image)}" alt="${E(d.hero.image_alt||'Photo')}" loading="lazy" style="width:100%;border-radius:12px;margin-bottom:10px">` : '';
      const items = (d.hero?.this_month||[]).map(i=>`<li>${E(i)}</li>`).join('');
      heroR.innerHTML = `
        ${heroImg}
        <div class="kicker">${E(d.hero?.right_kicker || 'This month')}</div>
        <h3 style="margin:6px 0 10px">${E(d.hero?.right_title || 'What’s on at Baraka')}</h3>
        <ul style="margin:0;padding-left:18px;color:var(--muted);line-height:1.6">${items}</ul>
        <p class="notice" style="margin-top:12px">${d.hero?.right_note ? E(d.hero.right_note) : 'Want to join? '}<a href="contact.html">Contact us</a> to check times and locations.</p>
      `;

      /* ABOUT */
      const about = document.getElementById('about');
      const bullets = (d.about?.bullets||[]).map(b=>`<li>${E(b)}</li>`).join('');
      about.innerHTML = `
        <div class="two">
          <div class="card">
            <div class="kicker">About us</div>
            <h2 class="section-title">${E(d.about?.title || 'Our story & mission')}</h2>
            <p>${E(d.about?.story || '')}</p>
            <p>${E(d.about?.values || '')}</p>
            <ul>${bullets}</ul>
          </div>
          <div class="card">
            <div class="kicker">What we value</div>
            <h2 class="section-title">${E(d.about?.values_title || 'Empathy • Dignity • Solidarity • Empowerment')}</h2>
            <p>${E(d.about?.values_para || '')}</p>
            <div class="card" style="margin-top:10px">
              <h3 style="margin:0 0 6px">${E(d.about?.cta_title || 'Need support?')}</h3>
              <p class="notice" style="margin:0 0 10px">${E(d.about?.cta_note || 'We’ll listen and connect you to the right activity or service.')}</p>
              <a href="contact.html" class="btn">${E(d.about?.cta_label || 'Get in touch')}</a>
            </div>
          </div>
        </div>
      `;

      /* PROGRAMMES (make card clickable if link is present) */
      const programmes = document.getElementById('programmes');
      const progs = (d.programmes || []).map(p => {
        // ensure Family Connection Hub uses your asset + detail page
        if (p.title && /family connection/i.test(p.title)) {
          p = {...p, image: 'assets/2.jpg', image_alt: 'Family Connection Hub', link: 'family-connection-hub.html'};
        }
        const inner = `
          ${p.image ? `<img class="prog-img" src="${E(p.image)}" alt="${E(p.image_alt || p.title || 'Programme image')}" loading="lazy">` : ''}
          <h3>${E(p.title||'')}</h3>
          <p>${E(p.description||'')}</p>
          ${p.bullets ? `<ul>${p.bullets.map(li => `<li>${E(li)}</li>`).join('')}</ul>` : ''}
        `;
        return p.link ? `<a class="card program" href="${E(p.link)}" aria-label="${E(p.title)}">${inner}</a>`
                      : `<div class="card program">${inner}</div>`;
      }).join('');
      programmes.innerHTML = `
        <div class="kicker">Programmes</div>
        <h2 class="section-title">${E(d.programmes_title || 'What we run')}</h2>
        <div class="grid">${progs}</div>
      `;

      /* GET INVOLVED (mini block on homepage) */
      const gi = document.getElementById('get-involved');
      const roleOptions = (d.get_involved?.volunteer?.roles || []).map(r=>`<option>${E(r)}</option>`).join('');
      const volunteerEmail = E(d.get_involved?.volunteer?.email || d.contact?.email || '');
      const partnerEmail = E(d.get_involved?.partner?.email || d.contact?.email || '');
      gi.innerHTML = `
        <div class="kicker">Get involved</div>
        <h2 class="section-title">${E(d.get_involved?.title || 'Volunteer or partner with us')}</h2>
        <div class="two">
          <div class="card">
            <h3>Volunteer</h3>
            <p>${E(d.get_involved?.volunteer?.intro || 'We welcome friendly volunteers for activities, mentoring, logistics, and translation.')}</p>
            <form action="mailto:${volunteerEmail}" method="post" enctype="text/plain" onsubmit="alert('Thank you! We\\'ll be in touch.');">
              <div class="two">
                <div><label class="notice">Name</label><input required placeholder="Your full name"></div>
                <div><label class="notice">Email</label><input required type="email" placeholder="you@example.com"></div>
              </div>
              <div style="margin-top:10px"><label class="notice">How would you like to help?</label><select>${roleOptions}</select></div>
              <div style="margin-top:10px"><label class="notice">Message</label><textarea rows="4" placeholder="Tell us a bit about yourself"></textarea></div>
              <div style="margin-top:12px"><button class="btn secondary" type="submit">Send</button></div>
            </form>
            <p class="notice" style="margin-top:8px">Prefer email? Write to <a href="mailto:${volunteerEmail}">${volunteerEmail}</a></p>
          </div>
          <div class="card">
            <h3>Partner or refer</h3>
            <p>${E(d.get_involved?.partner?.intro || 'We work with schools, faith groups, and local services. Refer a family or propose a joint activity.')}</p>
            <a class="btn" href="mailto:${partnerEmail}?subject=Partnership%20enquiry">Email us</a>
            <p class="notice" style="margin-top:8px">${E(d.get_involved?.partner?.note || 'We are based in West Glasgow. Meetings by appointment.')}</p>
          </div>
        </div>
      `;

      /* NEWS */
      const news = document.getElementById('news');
      const newsCards = (d.news||[]).map(n=>`
        <div class="card">
          <h3>${E(n.title)}</h3>
          <p>${E(n.body)}</p>
          ${n.date?`<p class="notice">Posted: <time>${E(n.date)}</time></p>`:''}
        </div>`).join('');
      news.innerHTML = `
        <div class="kicker">Updates</div>
        <h2 class="section-title">${E(d.news_title || 'Latest news')}</h2>
        <div class="grid">${newsCards}</div>
      `;

      /* DONATE */
      const donate = document.getElementById('donate');
      const dlinks = [];
      if(d.donate?.paypal) dlinks.push(`<a class="btn" href="${E(d.donate.paypal)}">Donate via PayPal</a>`);
      if(d.donate?.stripe) dlinks.push(`<a class="btn secondary" href="${E(d.donate.stripe)}">Donate via Stripe</a>`);
      if(d.donate?.justgiving) dlinks.push(`<a class="btn" href="${E(d.donate.justgiving)}">JustGiving</a>`);
      donate.innerHTML = `
        <div class="kicker">Donate</div>
        <h2 class="section-title">${E(d.donate_title || 'Support our work')}</h2>
        <p>${E(d.donate?.intro || 'Your donation helps us run weekly food support, skills workshops, and safe community spaces.')}</p>
        <div class="donate-row" style="margin:14px 0 6px">${dlinks.join(' ')}</div>
        <p class="notice">${E(d.donate?.note || '')}</p>
      `;

      /* GALLERY → slideshow (uses shared init) */
      const gal = document.getElementById('gallery');
      const imgs = d.gallery?.images || [];
      const slidesHtml = imgs.map((g,i)=>`
        <div class="slide ${i===0?'active':''}">
          <img src="${E(g.src)}" alt="${E(g.alt||'Photo')}" loading="lazy">
          ${g.caption?`<div class="caption">${E(g.caption)}</div>`:''}
        </div>`).join('');
      const dotsHtml = imgs.map((_,i)=>`<button class="dot ${i===0?'active':''}" aria-label="Go to slide ${i+1}"></button>`).join('');
      const slideshowId = 'baraka-slideshow';
      gal.innerHTML = `
        <div class="kicker">${E(d.gallery?.title || 'Photos')}</div>
        <h2 class="section-title">${E(d.gallery?.subtitle || 'A glimpse of life at Baraka')}</h2>
        <div class="slideshow" id="${slideshowId}" aria-label="Photo slideshow">
          <div class="slides">${slidesHtml}</div>
          <button class="nav prev" data-prev aria-label="Previous slide">‹</button>
          <button class="nav next" data-next aria-label="Next slide">›</button>
          <div class="dots">${dotsHtml}</div>
        </div>`;
      SITE.initSlideshow(slideshowId, imgs, { interval: 4000 });

      /* CONTACT (homepage block) */
      const contact = document.getElementById('contact');
      const fb = d.contact?.socials?.facebook ? `<a href="${E(d.contact.socials.facebook)}">Facebook</a>`:'';
      const ig = d.contact?.socials?.instagram ? `<a href="${E(d.contact.socials.instagram)}">Instagram</a>`:'';
      const wa = d.contact?.socials?.whatsapp ? `<a href="${E(d.contact.socials.whatsapp)}">WhatsApp</a>`:'';
      const socials = [fb,ig,wa].filter(Boolean).join(' · ');
      contact.innerHTML = `
        <div class="kicker">Contact</div>
        <h2 class="section-title">${E(d.contact_title || 'Get in touch')}</h2>
        <div class="two">
          <div class="card">
            <h3>Message us</h3>
            <form action="mailto:${E(d.contact?.email || '')}" method="post" enctype="text/plain" onsubmit="alert('Thanks! We\\'ll reply soon.');">
              <div class="two">
                <div><label class="notice">Name</label><input required placeholder="Your name"></div>
                <div><label class="notice">Email</label><input required type="email" placeholder="you@example.com"></div>
              </div>
              <div style="margin-top:10px"><label class="notice">Your message</label><textarea rows="4" placeholder="How can we help?"></textarea></div>
              <div style="margin-top:12px"><button class="btn" type="submit">Send</button></div>
            </form>
            ${d.contact?.email ? `<p class="notice" style="margin-top:8px">Email: <a href="mailto:${E(d.contact.email)}">${E(d.contact.email)}</a></p>`:''}
          </div>
          <div class="card">
            <h3>Visit</h3>
            <p>${E(d.contact?.visit_note || 'West Glasgow (meetings by appointment).')}</p>
            ${d.contact?.map_embed || ''}
            ${socials?`<p class="notice">Follow us: ${socials}</p>`:''}
          </div>
        </div>`;
    });
  </script>
</body>
</html>

